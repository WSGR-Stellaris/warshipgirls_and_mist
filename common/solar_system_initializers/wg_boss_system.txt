wg_boss_think_tank_system = {
	class = "rl_standard_stars"
	usage = wg_boss_think_tank_system_init
	name = "NAME_wg_boss_think_tank_system"
	
	max_instances = 1
	spawn_chance = 9999
	
	flags = { wg_boss_think_tank_system_home }


	asteroid_belt = {
		type = rocky_asteroid_belt
		radius = 140
	}
	planet = {
		class = "pc_g_star"
		size = { min = 15 max = 20 }
		orbit_distance = 0
		
		init_effect = {
			create_ambient_object = {
				type = "derelict_ship_object"
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 80
					angle = random
				}
			}
			create_ambient_object = {
				type = "derelict_ship_object"
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 60
					angle = random
				}
			}			
			
			create_ambient_object = {
				type = "ancient_battlefield_object"
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 90
					angle = random
				}
			}

			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 180
					angle = random
				}
			}			
		}

	}
	planet = {
		count = 1
		orbit_distance = 60
	}	
	change_orbit = 60
	

	planet = {
		class = pc_gas_giant
		orbit_distance = 130
		size = { min = 30 max = 35 }
		change_orbit = @base_moon_distance
		
		moon = {	
			class = pc_barren_cold		
			count = { min = 1 max = 2 }
			orbit_distance = 5
		}
	}	
	planet = {
		class = pc_barren_cold
		orbit_distance = 140
		size = { min = 20 max = 25 }
		change_orbit = @base_moon_distance
		
		moon = {	
			class = pc_barren_cold		
			count = { min = 0 max = 2 }
			orbit_distance = 5
		}
	}	
	planet = {
		class = pc_barren_cold
		orbit_distance = 150
		size = { min = 15 max = 20 }
		change_orbit = @base_moon_distance
		
		moon = {	
			class = pc_barren_cold		
			count = { min = 0 max = 1 }
			orbit_distance = 5
		}
	}
	init_effect = {
		random_system_planet = {
			limit = {
				is_star = yes
			}
			clear_deposits = yes
			create_country = {
				name = "NAME_wg_think_tank"
				type = guardian_wg_think_tank
				flag = {
					icon = {
						category = "zoological"
						file = "flag_zoological_5.dds"
					}
					background = {
						category = "backgrounds"
						file = "00_solid.dds"
					}
					colors={
						"blue"
						"blue"
						"null"
						"null"
					}
				}
				effect = {
					establish_communications_no_message = root.owner
					set_country_flag = guardian_wsg_think_tank_country_flag
				}				
			}
			last_created_country = {
				save_global_event_target_as = guardian_wsg_think_tank_country
				if = {
					limit = {
						NOT = {
							has_modifier = wsg_think_tank_power
						}
					}
					add_modifier = {
						modifier = wsg_think_tank_power
						days = -1
					}
				}			
				create_fleet = {
					name = "NAME_WG_THINK_TANK2"
					settings = {
						spawn_debris = no
						is_boss = yes
					}
					effect = {
						set_owner = event_target:guardian_wsg_think_tank_country
						create_ship = {
							name = "NAME_WG_THINK_TANK2"
							design = "NAME_WG_THINK_TANK"
						}
						set_fleet_flag = wsg_think_tank_fleet
						set_location = {
							target = prevprev
							distance = 15
							angle = 0
						}
						set_fleet_stance = passive
						set_aggro_range_measure_from = self
						set_aggro_range = 100
						save_global_event_target_as = wsg_think_tank_ship
				 	}
				}
			}
		}
	}	
}


wg_boss_uav_system = {
	class = "rl_standard_stars"
	usage = wg_boss_uav_system_system_init
	name = "NAME_wg_boss_uav_system_system"
	
	max_instances = 1
	spawn_chance = 9999
	
	flags = { wg_boss_uav_system_home }


	asteroid_belt = {
		type = rocky_asteroid_belt
		radius = 160
	}
	asteroid_belt = {
		type = rocky_asteroid_belt
		radius = 80
	}	
	planet = {
		class = "pc_b_star"
		orbit_distance = 0
		
		init_effect = {
			create_ambient_object = {
				type = "derelict_ship_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = hidden_uav_boss
				save_event_target_as = hidden_uav_boss_location	
				set_location = {
					target = prev
					distance = 80
					angle = random
				}
			}
			create_ambient_object = {
				type = "derelict_ship_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = hidden_uav_1
				save_event_target_as = hidden_uav_1_location			
				set_location = {
					target = prev
					distance = 140
					angle = random
				}
			}			
			create_ambient_object = {
				type = "derelict_ship_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = hidden_uav_2
				save_event_target_as = hidden_uav_2_location
				set_location = {
					target = prev
					distance = 100
					angle = random
				}
			}			
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 120
					angle = random
				}
			}			
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 140
					angle = random
				}
			}			
		}

	}	
	change_orbit = 60
		
	planet = {
		class = pc_barren_cold
		orbit_distance = 130
		size = { min = 15 max = 20 }
		change_orbit = @base_moon_distance
		
		moon = {	
			class = pc_barren_cold		
			count = { min = 1 max = 2 }
			orbit_distance = 5
		}
	}	
	planet = {
		class = pc_barren_cold
		orbit_distance = 170
		size = { min = 15 max = 20 }
		change_orbit = @base_moon_distance
		
		moon = {	
			class = pc_barren_cold		
			count = { min = 0 max = 2 }
			orbit_distance = 5
		}
	}	
}