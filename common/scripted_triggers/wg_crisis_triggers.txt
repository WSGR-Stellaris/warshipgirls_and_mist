ra_active_diplo = {
	has_active_event = {
		wg_crisis.23 # 主界面
		wg_crisis.24 # 一级菜单 - 买船
		wg_crisis.25 # 二级菜单 - 分期付款确认
		wg_crisis.38 # 一级菜单 - 反抗军vip
		wg_crisis.59 # 一级菜单 - 问情报
		wg_crisis.61 # 一级菜单 - 抽舰娘将军
	}
}

is_reach_ra_leader_limit = {
	AND = {
		OR = {
			# 困难vip可买10个将领
			AND = {
				has_global_flag = wg_crisis_normal
				has_country_flag = ra_vip
				check_variable = { which = "buy_ra_leader_count" value >= 9 }
			}
			# 困难非vip可买8个将领
			AND = {
				has_global_flag = wg_crisis_normal
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "buy_ra_leader_count" value >= 7 }
			}
			# 萌新vip可买9个将领
			AND = {
				has_global_flag = wg_crisis_hard
				has_country_flag = ra_vip
				check_variable = { which = "buy_ra_leader_count" value >= 8 }
			}
			# 萌新非vip可买7个将领
			AND = {
				has_global_flag = wg_crisis_hard
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "buy_ra_leader_count" value >= 6 }
			}
			# 天灾vip可买6个将领
			AND = {
				has_global_flag = wg_crisis_insane
				has_country_flag = ra_vip
				check_variable = { which = "buy_ra_leader_count" value >= 6 }
			}
			# 天灾非vip可买5个将领
			AND = {
				has_global_flag = wg_crisis_insane
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "buy_ra_leader_count" value >= 5 }
			}
		}
		# 不限制普通难度
		NOT = { has_global_flag = wg_crisis_easy }
	}
}

is_reach_ra_fleet_buy_limit = {
	AND = {
		# 困难vip可买12队船
		OR = {
			AND = {
				has_global_flag = wg_crisis_normal
				has_country_flag = ra_vip
				check_variable = { which = "buy_ra_fleet_count" value >= 15 }
			}
			# 困难非vip可买10队船
			AND = {
				has_global_flag = wg_crisis_normal
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "buy_ra_fleet_count" value >= 13 }
			}
			# 萌新vip可买11队船
			AND = {
				has_global_flag = wg_crisis_hard
				has_country_flag = ra_vip
				check_variable = { which = "buy_ra_fleet_count" value >= 14 }
			}
			# 萌新非vip可买9队船
			AND = {
				has_global_flag = wg_crisis_hard
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "buy_ra_fleet_count" value >= 12 }
			}
			# 天灾vip可买9队船
			AND = {
				has_global_flag = wg_crisis_insane
				has_country_flag = ra_vip
				check_variable = { which = "buy_ra_fleet_count" value >= 10 }
			}
			# 天灾非vip可买7队船
			AND = {
				has_global_flag = wg_crisis_insane
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "buy_ra_fleet_count" value >= 12 }
			}
		}
		# 不限制普通难度
		NOT = { has_global_flag = wg_crisis_easy }
	}
}

is_reach_ra_fleet_own_limit = {
	AND = {
		OR = {
			# 困难vip最多有7队船
			AND = {
				has_global_flag = wg_crisis_normal
				has_country_flag = ra_vip
				check_variable = { which = "ra_fleet_count" value >= 7 }
			}
			# 困难非vip最多有5队船
			AND = {
				has_global_flag = wg_crisis_normal
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "ra_fleet_count" value >= 5 }
			}
			# 萌新vip最多有5队船
			AND = {
				has_global_flag = wg_crisis_hard
				has_country_flag = ra_vip
				check_variable = { which = "ra_fleet_count" value >= 5 }
			}
			# 萌新非vip最多有4队船
			AND = {
				has_global_flag = wg_crisis_hard
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "ra_fleet_count" value >= 4 }
			}
			# 天灾vip最多有4队船
			AND = {
				has_global_flag = wg_crisis_insane
				has_country_flag = ra_vip
				check_variable = { which = "ra_fleet_count" value >= 4 }
			}
			# 天灾非vip最多有3队船
			AND = {
				has_global_flag = wg_crisis_insane
				NOT = { has_country_flag = ra_vip }
				check_variable = { which = "ra_fleet_count" value >= 3 }
			}
		}
		# 不限制普通难度
		NOT = { has_global_flag = wg_crisis_easy }
	}
}

not_close_with_fe_and_capital = {
	NOR = {
		closest_system = {
			min_steps = 1
			max_steps = 3
			any_country = {
				OR = {
					is_country_type = fallen_empire
					is_country_type = awakened_fallen_empire
				}
				any_system_within_border = {
					is_same_value = PREVPREV
				}
			}
		}
		closest_system = {
			min_steps = 1
			max_steps = 3
			any_country = {
				is_country_type = default
				capital_scope = {
					solar_system = {
						is_same_value = PREVPREVPREV
					}
				}
			}
		}
	}
}